package com.example.demo.client;

import com.fasterxml.jackson.core.JsonGenerator;
import com.fasterxml.jackson.databind.DeserializationFeature;
import com.fasterxml.jackson.databind.json.JsonMapper;
import org.junit.jupiter.api.Test;

class ForecastTest {

    String input = """
            {"cod":"200","message":0,"cnt":40,"list":[{"dt":1690470000,"main":{"temp":20.12,"feels_like":20.33,"temp_min":16.73,"temp_max":20.12,"pressure":993,"sea_level":993,"grnd_level":985,"humidity":82,"temp_kf":3.39},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04d"}],"clouds":{"all":99},"wind":{"speed":5.83,"deg":275,"gust":8.43},"visibility":10000,"pop":0.09,"sys":{"pod":"d"},"dt_txt":"2023-07-27 15:00:00"},{"dt":1690480800,"main":{"temp":17.32,"feels_like":17.3,"temp_min":15.07,"temp_max":17.32,"pressure":998,"sea_level":998,"grnd_level":985,"humidity":84,"temp_kf":2.25},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"clouds":{"all":100},"wind":{"speed":5.8,"deg":295,"gust":11.22},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2023-07-27 18:00:00"},{"dt":1690491600,"main":{"temp":14.88,"feels_like":14.64,"temp_min":14.88,"temp_max":14.88,"pressure":1006,"sea_level":1006,"grnd_level":987,"humidity":85,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"clouds":{"all":100},"wind":{"speed":5.39,"deg":302,"gust":10.42},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2023-07-27 21:00:00"},{"dt":1690502400,"main":{"temp":14.3,"feels_like":14.06,"temp_min":14.3,"temp_max":14.3,"pressure":1006,"sea_level":1006,"grnd_level":987,"humidity":87,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"clouds":{"all":100},"wind":{"speed":5.76,"deg":305,"gust":10.94},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2023-07-28 00:00:00"},{"dt":1690513200,"main":{"temp":14.46,"feels_like":14.1,"temp_min":14.46,"temp_max":14.46,"pressure":1008,"sea_level":1008,"grnd_level":989,"humidity":82,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04d"}],"clouds":{"all":100},"wind":{"speed":5.05,"deg":314,"gust":10.45},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2023-07-28 03:00:00"},{"dt":1690524000,"main":{"temp":16.08,"feels_like":15.57,"temp_min":16.08,"temp_max":16.08,"pressure":1008,"sea_level":1008,"grnd_level":990,"humidity":70,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04d"}],"clouds":{"all":100},"wind":{"speed":5.44,"deg":320,"gust":11.27},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2023-07-28 06:00:00"},{"dt":1690534800,"main":{"temp":21.72,"feels_like":21.1,"temp_min":21.72,"temp_max":21.72,"pressure":1009,"sea_level":1009,"grnd_level":991,"humidity":44,"temp_kf":0},"weather":[{"id":801,"main":"Clouds","description":"few clouds","icon":"02d"}],"clouds":{"all":14},"wind":{"speed":5.45,"deg":334,"gust":8.04},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2023-07-28 09:00:00"},{"dt":1690545600,"main":{"temp":23.88,"feels_like":23.24,"temp_min":23.88,"temp_max":23.88,"pressure":1009,"sea_level":1009,"grnd_level":991,"humidity":35,"temp_kf":0},"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01d"}],"clouds":{"all":8},"wind":{"speed":4.71,"deg":326,"gust":6.5},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2023-07-28 12:00:00"},{"dt":1690556400,"main":{"temp":23.81,"feels_like":23.19,"temp_min":23.81,"temp_max":23.81,"pressure":1009,"sea_level":1009,"grnd_level":990,"humidity":36,"temp_kf":0},"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01d"}],"clouds":{"all":9},"wind":{"speed":4.04,"deg":297,"gust":5.46},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2023-07-28 15:00:00"},{"dt":1690567200,"main":{"temp":18.83,"feels_like":18.13,"temp_min":18.83,"temp_max":18.83,"pressure":1010,"sea_level":1010,"grnd_level":992,"humidity":52,"temp_kf":0},"weather":[{"id":801,"main":"Clouds","description":"few clouds","icon":"02n"}],"clouds":{"all":14},"wind":{"speed":3.38,"deg":279,"gust":8.39},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2023-07-28 18:00:00"},{"dt":1690578000,"main":{"temp":16.75,"feels_like":16,"temp_min":16.75,"temp_max":16.75,"pressure":1011,"sea_level":1011,"grnd_level":992,"humidity":58,"temp_kf":0},"weather":[{"id":801,"main":"Clouds","description":"few clouds","icon":"02n"}],"clouds":{"all":19},"wind":{"speed":2.93,"deg":267,"gust":6.72},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2023-07-28 21:00:00"},{"dt":1690588800,"main":{"temp":17.16,"feels_like":16.81,"temp_min":17.16,"temp_max":17.16,"pressure":1010,"sea_level":1010,"grnd_level":992,"humidity":72,"temp_kf":0},"weather":[{"id":803,"main":"Clouds","description":"broken clouds","icon":"04n"}],"clouds":{"all":51},"wind":{"speed":2.99,"deg":273,"gust":7.29},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2023-07-29 00:00:00"},{"dt":1690599600,"main":{"temp":15.03,"feels_like":14.76,"temp_min":15.03,"temp_max":15.03,"pressure":1011,"sea_level":1011,"grnd_level":992,"humidity":83,"temp_kf":0},"weather":[{"id":803,"main":"Clouds","description":"broken clouds","icon":"04d"}],"clouds":{"all":60},"wind":{"speed":2.87,"deg":264,"gust":6.6},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2023-07-29 03:00:00"},{"dt":1690610400,"main":{"temp":18.93,"feels_like":18.6,"temp_min":18.93,"temp_max":18.93,"pressure":1011,"sea_level":1011,"grnd_level":993,"humidity":66,"temp_kf":0},"weather":[{"id":802,"main":"Clouds","description":"scattered clouds","icon":"03d"}],"clouds":{"all":32},"wind":{"speed":3.93,"deg":269,"gust":5.94},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2023-07-29 06:00:00"},{"dt":1690621200,"main":{"temp":23.75,"feels_like":23.56,"temp_min":23.75,"temp_max":23.75,"pressure":1011,"sea_level":1011,"grnd_level":992,"humidity":53,"temp_kf":0},"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01d"}],"clouds":{"all":0},"wind":{"speed":3.93,"deg":281,"gust":5.43},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2023-07-29 09:00:00"},{"dt":1690632000,"main":{"temp":23.63,"feels_like":23.51,"temp_min":23.63,"temp_max":23.63,"pressure":1010,"sea_level":1010,"grnd_level":992,"humidity":56,"temp_kf":0},"weather":[{"id":802,"main":"Clouds","description":"scattered clouds","icon":"03d"}],"clouds":{"all":34},"wind":{"speed":3.83,"deg":290,"gust":6.13},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2023-07-29 12:00:00"},{"dt":1690642800,"main":{"temp":23.7,"feels_like":23.64,"temp_min":23.7,"temp_max":23.7,"pressure":1011,"sea_level":1011,"grnd_level":992,"humidity":58,"temp_kf":0},"weather":[{"id":803,"main":"Clouds","description":"broken clouds","icon":"04d"}],"clouds":{"all":83},"wind":{"speed":3.6,"deg":303,"gust":6},"visibility":10000,"pop":0.06,"sys":{"pod":"d"},"dt_txt":"2023-07-29 15:00:00"},{"dt":1690653600,"main":{"temp":20.79,"feels_like":20.73,"temp_min":20.79,"temp_max":20.79,"pressure":1012,"sea_level":1012,"grnd_level":993,"humidity":69,"temp_kf":0},"weather":[{"id":803,"main":"Clouds","description":"broken clouds","icon":"04n"}],"clouds":{"all":81},"wind":{"speed":1.81,"deg":316,"gust":4.5},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2023-07-29 18:00:00"},{"dt":1690664400,"main":{"temp":18.1,"feels_like":18.08,"temp_min":18.1,"temp_max":18.1,"pressure":1013,"sea_level":1013,"grnd_level":994,"humidity":81,"temp_kf":0},"weather":[{"id":801,"main":"Clouds","description":"few clouds","icon":"02n"}],"clouds":{"all":18},"wind":{"speed":2,"deg":313,"gust":3.51},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2023-07-29 21:00:00"},{"dt":1690675200,"main":{"temp":16.88,"feels_like":16.82,"temp_min":16.88,"temp_max":16.88,"pressure":1013,"sea_level":1013,"grnd_level":994,"humidity":84,"temp_kf":0},"weather":[{"id":802,"main":"Clouds","description":"scattered clouds","icon":"03n"}],"clouds":{"all":46},"wind":{"speed":0.51,"deg":309,"gust":0.59},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2023-07-30 00:00:00"},{"dt":1690686000,"main":{"temp":16.7,"feels_like":16.62,"temp_min":16.7,"temp_max":16.7,"pressure":1013,"sea_level":1013,"grnd_level":994,"humidity":84,"temp_kf":0},"weather":[{"id":803,"main":"Clouds","description":"broken clouds","icon":"04d"}],"clouds":{"all":77},"wind":{"speed":0.74,"deg":168,"gust":0.76},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2023-07-30 03:00:00"},{"dt":1690696800,"main":{"temp":21.05,"feels_like":20.96,"temp_min":21.05,"temp_max":21.05,"pressure":1013,"sea_level":1013,"grnd_level":995,"humidity":67,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04d"}],"clouds":{"all":88},"wind":{"speed":1.57,"deg":164,"gust":1.94},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2023-07-30 06:00:00"},{"dt":1690707600,"main":{"temp":25.78,"feels_like":25.67,"temp_min":25.78,"temp_max":25.78,"pressure":1012,"sea_level":1012,"grnd_level":994,"humidity":48,"temp_kf":0},"weather":[{"id":803,"main":"Clouds","description":"broken clouds","icon":"04d"}],"clouds":{"all":82},"wind":{"speed":1.48,"deg":200,"gust":2.26},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2023-07-30 09:00:00"},{"dt":1690718400,"main":{"temp":28.66,"feels_like":28.44,"temp_min":28.66,"temp_max":28.66,"pressure":1011,"sea_level":1011,"grnd_level":993,"humidity":42,"temp_kf":0},"weather":[{"id":803,"main":"Clouds","description":"broken clouds","icon":"04d"}],"clouds":{"all":77},"wind":{"speed":1.14,"deg":210,"gust":2.88},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2023-07-30 12:00:00"},{"dt":1690729200,"main":{"temp":26.28,"feels_like":26.28,"temp_min":26.28,"temp_max":26.28,"pressure":1010,"sea_level":1010,"grnd_level":992,"humidity":53,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04d"}],"clouds":{"all":100},"wind":{"speed":1.75,"deg":164,"gust":2.49},"visibility":10000,"pop":0.05,"sys":{"pod":"d"},"dt_txt":"2023-07-30 15:00:00"},{"dt":1690740000,"main":{"temp":22.97,"feels_like":23.1,"temp_min":22.97,"temp_max":22.97,"pressure":1011,"sea_level":1011,"grnd_level":993,"humidity":68,"temp_kf":0},"weather":[{"id":500,"main":"Rain","description":"light rain","icon":"10n"}],"clouds":{"all":100},"wind":{"speed":1.15,"deg":317,"gust":1.96},"visibility":10000,"pop":0.29,"rain":{"3h":0.11},"sys":{"pod":"n"},"dt_txt":"2023-07-30 18:00:00"},{"dt":1690750800,"main":{"temp":19.02,"feels_like":19.46,"temp_min":19.02,"temp_max":19.02,"pressure":1012,"sea_level":1012,"grnd_level":993,"humidity":95,"temp_kf":0},"weather":[{"id":501,"main":"Rain","description":"moderate rain","icon":"10n"}],"clouds":{"all":100},"wind":{"speed":2.65,"deg":9,"gust":5.26},"visibility":10000,"pop":0.99,"rain":{"3h":4.03},"sys":{"pod":"n"},"dt_txt":"2023-07-30 21:00:00"},{"dt":1690761600,"main":{"temp":18.32,"feels_like":18.71,"temp_min":18.32,"temp_max":18.32,"pressure":1011,"sea_level":1011,"grnd_level":992,"humidity":96,"temp_kf":0},"weather":[{"id":500,"main":"Rain","description":"light rain","icon":"10n"}],"clouds":{"all":100},"wind":{"speed":1.57,"deg":212,"gust":2.93},"visibility":10000,"pop":1,"rain":{"3h":1.71},"sys":{"pod":"n"},"dt_txt":"2023-07-31 00:00:00"},{"dt":1690772400,"main":{"temp":18.38,"feels_like":18.78,"temp_min":18.38,"temp_max":18.38,"pressure":1011,"sea_level":1011,"grnd_level":992,"humidity":96,"temp_kf":0},"weather":[{"id":500,"main":"Rain","description":"light rain","icon":"10d"}],"clouds":{"all":100},"wind":{"speed":1.31,"deg":285,"gust":2.82},"visibility":10000,"pop":0.62,"rain":{"3h":0.29},"sys":{"pod":"d"},"dt_txt":"2023-07-31 03:00:00"},{"dt":1690783200,"main":{"temp":18.81,"feels_like":19.12,"temp_min":18.81,"temp_max":18.81,"pressure":1011,"sea_level":1011,"grnd_level":992,"humidity":91,"temp_kf":0},"weather":[{"id":500,"main":"Rain","description":"light rain","icon":"10d"}],"clouds":{"all":99},"wind":{"speed":1.95,"deg":262,"gust":3.64},"visibility":10000,"pop":0.64,"rain":{"3h":0.28},"sys":{"pod":"d"},"dt_txt":"2023-07-31 06:00:00"},{"dt":1690794000,"main":{"temp":19.78,"feels_like":20.09,"temp_min":19.78,"temp_max":19.78,"pressure":1011,"sea_level":1011,"grnd_level":992,"humidity":87,"temp_kf":0},"weather":[{"id":500,"main":"Rain","description":"light rain","icon":"10d"}],"clouds":{"all":100},"wind":{"speed":1.73,"deg":252,"gust":2.49},"visibility":10000,"pop":0.99,"rain":{"3h":2.12},"sys":{"pod":"d"},"dt_txt":"2023-07-31 09:00:00"},{"dt":1690804800,"main":{"temp":21.9,"feels_like":22.1,"temp_min":21.9,"temp_max":21.9,"pressure":1011,"sea_level":1011,"grnd_level":992,"humidity":75,"temp_kf":0},"weather":[{"id":500,"main":"Rain","description":"light rain","icon":"10d"}],"clouds":{"all":88},"wind":{"speed":2.79,"deg":287,"gust":3.97},"visibility":10000,"pop":0.99,"rain":{"3h":1.36},"sys":{"pod":"d"},"dt_txt":"2023-07-31 12:00:00"},{"dt":1690815600,"main":{"temp":23.18,"feels_like":23.2,"temp_min":23.18,"temp_max":23.18,"pressure":1010,"sea_level":1010,"grnd_level":992,"humidity":63,"temp_kf":0},"weather":[{"id":803,"main":"Clouds","description":"broken clouds","icon":"04d"}],"clouds":{"all":55},"wind":{"speed":2.9,"deg":286,"gust":4.35},"visibility":10000,"pop":0.25,"sys":{"pod":"d"},"dt_txt":"2023-07-31 15:00:00"},{"dt":1690826400,"main":{"temp":20.56,"feels_like":20.6,"temp_min":20.56,"temp_max":20.56,"pressure":1011,"sea_level":1011,"grnd_level":992,"humidity":74,"temp_kf":0},"weather":[{"id":803,"main":"Clouds","description":"broken clouds","icon":"04n"}],"clouds":{"all":69},"wind":{"speed":0.87,"deg":280,"gust":0.92},"visibility":10000,"pop":0.16,"sys":{"pod":"n"},"dt_txt":"2023-07-31 18:00:00"},{"dt":1690837200,"main":{"temp":19.04,"feels_like":19.06,"temp_min":19.04,"temp_max":19.04,"pressure":1011,"sea_level":1011,"grnd_level":993,"humidity":79,"temp_kf":0},"weather":[{"id":803,"main":"Clouds","description":"broken clouds","icon":"04n"}],"clouds":{"all":81},"wind":{"speed":2,"deg":254,"gust":2.46},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2023-07-31 21:00:00"},{"dt":1690848000,"main":{"temp":17.69,"feels_like":17.81,"temp_min":17.69,"temp_max":17.69,"pressure":1012,"sea_level":1012,"grnd_level":993,"humidity":88,"temp_kf":0},"weather":[{"id":803,"main":"Clouds","description":"broken clouds","icon":"04n"}],"clouds":{"all":63},"wind":{"speed":1.92,"deg":266,"gust":3.21},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2023-08-01 00:00:00"},{"dt":1690858800,"main":{"temp":17.04,"feels_like":17.18,"temp_min":17.04,"temp_max":17.04,"pressure":1012,"sea_level":1012,"grnd_level":993,"humidity":91,"temp_kf":0},"weather":[{"id":802,"main":"Clouds","description":"scattered clouds","icon":"03d"}],"clouds":{"all":36},"wind":{"speed":1.89,"deg":266,"gust":3.3},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2023-08-01 03:00:00"},{"dt":1690869600,"main":{"temp":21.1,"feels_like":21.17,"temp_min":21.1,"temp_max":21.1,"pressure":1012,"sea_level":1012,"grnd_level":994,"humidity":73,"temp_kf":0},"weather":[{"id":802,"main":"Clouds","description":"scattered clouds","icon":"03d"}],"clouds":{"all":37},"wind":{"speed":1.81,"deg":269,"gust":2.44},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2023-08-01 06:00:00"},{"dt":1690880400,"main":{"temp":25.18,"feels_like":25.16,"temp_min":25.18,"temp_max":25.18,"pressure":1012,"sea_level":1012,"grnd_level":994,"humidity":54,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04d"}],"clouds":{"all":90},"wind":{"speed":2.28,"deg":238,"gust":3.13},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2023-08-01 09:00:00"},{"dt":1690891200,"main":{"temp":27.11,"feels_like":27.05,"temp_min":27.11,"temp_max":27.11,"pressure":1011,"sea_level":1011,"grnd_level":993,"humidity":42,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04d"}],"clouds":{"all":95},"wind":{"speed":3.2,"deg":255,"gust":4.61},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2023-08-01 12:00:00"}],"city":{"id":696050,"name":"Pushcha-Vodytsya","coord":{"lat":50.45,"lon":30.45},"country":"UA","population":0,"timezone":10800,"sunrise":1690424284,"sunset":1690480266}}
            """;

    @Test
    void shouldDeserializeFromInput() throws Exception {
        var objectMapper = JsonMapper.builder()
                .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false).build();
        Forecast result = objectMapper
                .readValue(input, Forecast.class);
        System.out.println(result);
    }

}